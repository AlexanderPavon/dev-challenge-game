{% extends "base.html" %}

{% block title %}Registrarse{% endblock title %}

{% block content %}
<body class="min-h-screen bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center p-4">
    <div class="bg-white shadow-2xl rounded-2xl w-full max-w-md p-8">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">
            Registrarse
        </h2>
        <form method="post" class="space-y-6">
            {% csrf_token %}
            {{ form.as_p }} <!-- Aquí Django genera el formulario automáticamente -->
            
            <div class="relative">
                <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input 
                    type="text" 
                    placeholder="Nombre de usuario" 
                    name="username"
                    id="username"
                    class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    value="{{ form.username.value }}" 
                    required
                >
            </div>
            
            <div class="relative">
                <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input 
                    type="password" 
                    placeholder="Contraseña" 
                    name="password"
                    id="password"
                    class="w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    required
                >
                <button 
                    type="button" 
                    class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-500"
                    onclick="togglePasswordVisibility(this)"
                >
                    <i class="fas fa-eye-slash" id="passwordToggle"></i>
                </button>
            </div>
            
            <div class="relative">
                <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input 
                    type="password" 
                    placeholder="Confirmar Contraseña" 
                    name="password_confirm"
                    id="password_confirm"
                    class="w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    required
                >
                <button 
                    type="button" 
                    class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-500"
                    onclick="togglePasswordVisibility(this)"
                >
                    <i class="fas fa-eye-slash" id="passwordToggle"></i>
                </button>
            </div>
            
            <button 
                type="submit" 
                class="w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-lg hover:opacity-90 transition-opacity"
            >
                Registrarse
            </button>

            <div class="text-center">
                <a href="{% url 'login' %}" class="text-sm text-purple-600 hover:underline">
                    ¿Ya tienes una cuenta? Iniciar Sesión
                </a>
            </div>
        </form>
    </div>
</body>

{% endblock content %}

{% block extra_js %}
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>

<script>
    function togglePasswordVisibility(button) {
        const passwordInput = button.previousElementSibling;
        const toggleIcon = button.querySelector('i');
        
        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            toggleIcon.classList.remove('fa-eye-slash');
            toggleIcon.classList.add('fa-eye');
        } else {
            passwordInput.type = 'password';
            toggleIcon.classList.remove('fa-eye');
            toggleIcon.classList.add('fa-eye-slash');
        }
    }
</script>
{% endblock extra_js %}